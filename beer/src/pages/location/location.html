<!--
  Generated template for the LocationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="map_header">

  <ion-navbar>
    <ion-title>location</ion-title>
  </ion-navbar>

</ion-header>

<ion-content class="content_map" padding>

  <ion-fab class="refreshFab" left top  #refreshFab>
    <button ion-fab color="blue"><ion-icon name="locate"></ion-icon></button>
    <ion-fab-list side="bottom">
      <button ion-fab (click)="refreshLocation(refreshFab)"><ion-icon name="refresh"></ion-icon></button>
      <button ion-fab (click)="setLocationOnLille(refreshFab)"><ion-icon name="paper-plane"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>

  <ion-fab left top  #travelFab>
    <button ion-fab color="blue"><ion-icon name="{{ this.travelIcon }}"></ion-icon></button>
    <ion-fab-list side="bottom">
      <button ion-fab (click)="changeTravelMode('DRIVING', 'car' ,travelFab)"><ion-icon name="car"></ion-icon></button>
      <button ion-fab (click)="changeTravelMode('BICYCLING', 'bicycle' ,travelFab)"><ion-icon name="bicycle"></ion-icon></button>
      <button ion-fab (click)="changeTravelMode('WALKING', 'walk' ,travelFab)"><ion-icon name="walk"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>

  <div *ngIf="mapProvider.destination && selectedBar" class="travelInfos">
    <ion-chip>
      <ion-label>{{selectedBar.time}}</ion-label>
      <ion-icon name="pin" color="secondary"></ion-icon>
    </ion-chip>
  </div>

  <!--  <ion-grid>
      <ion-row>
        <ion-col>
        </ion-col>
      </ion-row>
    </ion-grid>
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="14">
        <div *ngIf="location">
          <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
          <agm-circle  [latitude]="lat +0.0008" [longitude]="lng"
                                [radius]="420"
                                [fillColor]="'blue'"
                                [editable]="true"
                                                >
          </agm-circle>
        </div>
      </agm-map>
  -->
  <div #map id="map"></div>
</ion-content>

<ion-content class="content_list" padding>
<!--  <ion-chip>
    <ion-label>Secondary</ion-label>
    <ion-icon name="pin" color="secondary"></ion-icon>
  </ion-chip>
-->
  <ion-list>
    <ion-item-sliding *ngFor="let item of bars" #slideItem>

      <ion-item id="bar_item" (click)="showBarDetail(item)" tappable>
        <ion-avatar item-left>

          <img *ngIf="item.icon_bar; else noIcon" class="beer_item" src="assets/img/bar/{{ item.icon_bar }}">
        <ng-template #noIcon>
          <img class="beer_item" src="assets/icon/bar_icon.png">
        </ng-template>
        </ion-avatar>

        <div class="bar-text">
          <p>{{item.name}}</p>
        </div>
          <div class="distance-chip">
            {{item.dist}}
            <ion-icon class="distance-icon" name="pin" color="whilte"></ion-icon>
          </div>
        <img class="arrow" src="assets/img/back.png">
      </ion-item>



      <ion-item-options side="right">
        <button ion-button (click)="clickOnDestination(item, item.lat, item.lng, slideItem);">Let's Go!</button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>

